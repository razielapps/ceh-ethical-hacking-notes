Of course. We are now moving into a critical and common attack vector: compromising user credentials.

Topic 27: Introduction to Password Hacking

Passwords are the most ubiquitous form of authentication in the digital world. They are the keys to the kingdom. Password hacking, or password cracking, is the process of recovering passwords from data that has been stored in or transmitted by a computer system. The goal is to obtain a set of valid credentials (username and password) that can be used to gain unauthorized access to a system, application, or network share.

It is crucial to understand that we are not "decrypting" passwords. Properly stored passwords are not encrypted; they are *hashed*. Hashing is a one-way mathematical function that takes an input (the password) and produces a fixed-size string of characters, called a hash. The key property of a cryptographic hash is that it is computationally infeasible to reverse the process. You cannot take a hash and "decrypt" it back to the original password.

So, how do we crack hashes? We don't reverse the math. Instead, we use the same hashing function on a bunch of *guesses* and see if any of the resulting hashes match the target hash. If they match, we know the guess was the original password. It's a game of trial and error, massively accelerated by computers.

The entire field of password cracking revolves around the methods used to generate these guesses. The sophistication of these methods is a direct response to the complexity of passwords chosen by users.

Here are the core concepts:

- **The Hash:** This is the target. You obtain hashes by extracting them from a database, sniffing them from the network, or dumping them from a compromised system's memory. Common hash types include MD5, SHA1, and NTLM (Windows). For example, the MD5 hash for the password "hello" is always `5d41402abc4b2a76b9719d911017c592`.

- **The Wordlist:** This is your dictionary of guesses. It can be a list of common passwords (e.g., "password", "123456", "qwerty"), a list of real words from a language dictionary, or a list of previously leaked passwords from other data breaches. Using a good wordlist is the first and most efficient step.

- **The Rules:** People often create passwords by applying simple transformations to a base word. They capitalize the first letter, add a number at the end, or replace 'a' with '@'. Cracking tools like `hashcat` or `John the Ripper` allow you to define "mangling rules" that automatically apply these transformations to every word in your wordlist, dramatically increasing the number of potential guesses without requiring a larger wordlist file.

- **Brute-Force Attack:** This is the most comprehensive and computationally expensive method. It involves systematically trying every possible combination of characters for a given character set and length. For example, a brute-force on all lowercase letters for a 4-character password would try "aaaa", "aaab", "aaac"... all the way to "zzzz". This is guaranteed to find the password eventually, but it can take an impossibly long time for complex passwords.

- **Hybrid Attack:** This combines a wordlist with brute-force. It will take each word from the wordlist and then append or prepend a set of brute-forced characters. For example, it might try "password1", "password2", ... "password99", etc. This is very effective against common human behavior.

The entire process can be summarized as:
1.  **Acquire:** Obtain the password hashes (e.g., from a database dump or network capture).
2.  **Identify:** Determine the type of hash (MD5, SHA1, NTLM, bcrypt, etc.). This is critical because you must use the correct hashing algorithm to generate your guesses.
3.  **Choose a Method:** Decide on your attack strategy: wordlist, rules, hybrid, or brute-force.
4.  **Crack:** Use a tool to generate guesses, hash them, and compare them to your target hashes.
5.  **Utilize:** Use the cracked credentials to gain access.

As an ethical hacker, your goal is to demonstrate the risk of weak passwords to your client. A single weak password on a user account can be the initial foothold an attacker needs to breach an entire network.

Glossary for Topic 27:

Password Hacking/Cracking: The process of recovering passwords from hashed or transmitted data by generating guesses and comparing their hashes.

Hash: A fixed-size string of characters generated by a one-way mathematical function from an input (like a password). It is designed to be non-reversible.

Wordlist: A file containing a list of potential passwords, often compiled from common passwords, dictionary words, or previous breaches.

Brute-Force Attack: A password cracking method that tries every possible combination of characters for a given character set and password length.

Rule-Based Attack: A password cracking method that applies a set of transformation rules (like adding numbers or substituting letters) to words in a wordlist.

Hybrid Attack: A password cracking method that combines a wordlist with a brute-force attack, typically by adding prefixes or suffixes to words from the list.

Hashcat/John the Ripper: Powerful, widely-used password cracking tools.

NTLM Hash: The hashing format used by Microsoft Windows to store user passwords.

Hands-On Assignment for Topic 27:

Your objective is to understand the fundamental process of password cracking by working with hashes directly in a controlled environment.

1.  **Generate Your Own Hashes**:
    - We will create a small target file. Create a text file called `target_hashes.txt`.
    - Use an online MD5 hash generator (or the `md5sum` command in your terminal) to generate the MD5 hashes for the following passwords:
        - `password`
        - `hello`
        - `dragon`
        - `letmein`
        - `P@ssw0rd`
    - Put each hash on a separate line in your `target_hashes.txt` file.

2.  **Identify the Hash**:
    - You know these are MD5 hashes because you created them. In a real scenario, you might not know. You can use a tool like `hashid` to guess the hash type.
    - Command: `hashid [hash_string]`

3.  **Acquire a Wordlist**:
    - Kali Linux comes with built-in wordlists. Use the `rockyou.txt` wordlist, one of the most famous compilations of leaked passwords.
    - It is located at `/usr/share/wordlists/rockyou.txt.gz`. You need to unzip it first:
      `sudo gzip -d /usr/share/wordlists/rockyou.txt.gz`

4.  **Perform a Wordlist Attack with John the Ripper**:
    - John the Ripper is a classic cracking tool. Use it to attack your `target_hashes.txt` file.
    - Command: `john --format=raw-md5 --wordlist=/usr/share/wordlists/rockyou.txt target_hashes.txt`
    - `--format=raw-md5` tells John the hash type.
    - `--wordlist=` points to the wordlist file.
    - John will run and attempt to crack the hashes.

5.  **View the Results**:
    - Once John has finished (or you stop it with `Ctrl+C`), you can view the cracked passwords.
    - Command: `john --show target_hashes.txt`
    - Document which of your five passwords were successfully cracked. Why do you think some were cracked and others weren't? (Hint: Check if `P@ssw0rd` is in the rockyou.txt wordlist).

6.  **Understand the Limitation**:
    - The password `P@ssw0rd` might not be cracked because it's not in the rockyou.txt list and you didn't use rules. This demonstrates a key point: a password not found in a common wordlist can resist a simple attack, but would likely fall to a rule-based or hybrid attack.

This assignment gives you the foundational experience of the password cracking workflow. You have created a target, used a wordlist, and run a cracking tool to recover plaintext passwords from their hashes.

Are you ready to proceed to Topic 28: Types of Password Attacks?